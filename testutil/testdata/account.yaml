type: object
x-collection: account
required:
  - _id
  - name
properties:
  _id:
    type: string
    description: The account's id.
    x-primary: true
  name:
    type: string
    description: The accounts's name.
x-authz:
  read:
    matchers:
      doc.get('_id') == meta.get('account_id') || meta.get('is_super_user')
  write:
    matchers:
      doc.get('_id') == meta.get('account_id') || meta.get('is_super_user')
  query:
    matchers:
      query.where[0].field == '_id' && query.where[0].value == meta.get('account_id') || meta.get('is_super_user')
